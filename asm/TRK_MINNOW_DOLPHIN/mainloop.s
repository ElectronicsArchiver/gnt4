.include "macros.inc"

.section .text  # 0x801872F4 - 0x801873EC

.global TRKNubMainLoop
TRKNubMainLoop:
/* 801872F4 001842F4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 801872F8 001842F8  7C 08 02 A6 */	mflr r0
/* 801872FC 001842FC  90 01 00 24 */	stw r0, 0x24(r1)
/* 80187300 00184300  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80187304 00184304  3B E0 00 00 */	li r31, 0
/* 80187308 00184308  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8018730C 0018430C  3B C0 00 00 */	li r30, 0
/* 80187310 00184310  48 00 00 BC */	b lbl_801873CC
lbl_80187314:
/* 80187314 00184314  38 61 00 08 */	addi r3, r1, 8
/* 80187318 00184318  48 00 01 F1 */	bl TRKGetNextEvent
/* 8018731C 0018431C  2C 03 00 00 */	cmpwi r3, 0
/* 80187320 00184320  41 82 00 6C */	beq lbl_8018738C
/* 80187324 00184324  88 01 00 08 */	lbz r0, 8(r1)
/* 80187328 00184328  3B C0 00 00 */	li r30, 0
/* 8018732C 0018432C  2C 00 00 02 */	cmpwi r0, 2
/* 80187330 00184330  41 82 00 28 */	beq lbl_80187358
/* 80187334 00184334  40 80 00 14 */	bge lbl_80187348
/* 80187338 00184338  2C 00 00 00 */	cmpwi r0, 0
/* 8018733C 0018433C  41 82 00 44 */	beq lbl_80187380
/* 80187340 00184340  40 80 00 28 */	bge lbl_80187368
/* 80187344 00184344  48 00 00 3C */	b lbl_80187380
lbl_80187348:
/* 80187348 00184348  2C 00 00 05 */	cmpwi r0, 5
/* 8018734C 0018434C  41 82 00 30 */	beq lbl_8018737C
/* 80187350 00184350  40 80 00 30 */	bge lbl_80187380
/* 80187354 00184354  48 00 00 1C */	b lbl_80187370
lbl_80187358:
/* 80187358 00184358  80 61 00 10 */	lwz r3, 0x10(r1)
/* 8018735C 0018435C  48 00 0E D9 */	bl TRKGetBuffer
/* 80187360 00184360  48 00 14 95 */	bl TRKDispatchMessage
/* 80187364 00184364  48 00 00 1C */	b lbl_80187380
lbl_80187368:
/* 80187368 00184368  3B E0 00 01 */	li r31, 1
/* 8018736C 0018436C  48 00 00 14 */	b lbl_80187380
lbl_80187370:
/* 80187370 00184370  38 61 00 08 */	addi r3, r1, 8
/* 80187374 00184374  48 00 53 25 */	bl TRKTargetInterrupt
/* 80187378 00184378  48 00 00 08 */	b lbl_80187380
lbl_8018737C:
/* 8018737C 0018437C  48 00 4E 4D */	bl TRKTargetSupportRequest
lbl_80187380:
/* 80187380 00184380  38 61 00 08 */	addi r3, r1, 8
/* 80187384 00184384  48 00 00 69 */	bl TRKDestructEvent
/* 80187388 00184388  48 00 00 44 */	b lbl_801873CC
lbl_8018738C:
/* 8018738C 0018438C  2C 1E 00 00 */	cmpwi r30, 0
/* 80187390 00184390  41 82 00 1C */	beq lbl_801873AC
/* 80187394 00184394  3C 60 80 24 */	lis r3, lbl_80247790@ha
/* 80187398 00184398  38 63 77 90 */	addi r3, r3, lbl_80247790@l
/* 8018739C 0018439C  80 63 00 00 */	lwz r3, 0(r3)
/* 801873A0 001843A0  88 03 00 00 */	lbz r0, 0(r3)
/* 801873A4 001843A4  28 00 00 00 */	cmplwi r0, 0
/* 801873A8 001843A8  41 82 00 10 */	beq lbl_801873B8
lbl_801873AC:
/* 801873AC 001843AC  3B C0 00 01 */	li r30, 1
/* 801873B0 001843B0  48 00 10 69 */	bl TRKGetInput
/* 801873B4 001843B4  48 00 00 18 */	b lbl_801873CC
lbl_801873B8:
/* 801873B8 001843B8  48 00 4D C5 */	bl TRKTargetStopped
/* 801873BC 001843BC  2C 03 00 00 */	cmpwi r3, 0
/* 801873C0 001843C0  40 82 00 08 */	bne lbl_801873C8
/* 801873C4 001843C4  48 00 6A 35 */	bl TRKTargetContinue
lbl_801873C8:
/* 801873C8 001843C8  3B C0 00 00 */	li r30, 0
lbl_801873CC:
/* 801873CC 001843CC  2C 1F 00 00 */	cmpwi r31, 0
/* 801873D0 001843D0  41 82 FF 44 */	beq lbl_80187314
/* 801873D4 001843D4  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801873D8 001843D8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801873DC 001843DC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801873E0 001843E0  7C 08 03 A6 */	mtlr r0
/* 801873E4 001843E4  38 21 00 20 */	addi r1, r1, 0x20
/* 801873E8 001843E8  4E 80 00 20 */	blr 
