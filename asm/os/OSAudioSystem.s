.include "macros.inc"

.section .text  # 0x80166804 - 0x80166A98

.global func_80166804
func_80166804:
/* 80166804 00163804  7C 08 02 A6 */	mflr r0
/* 80166808 00163808  90 01 00 04 */	stw r0, 4(r1)
/* 8016680C 0016380C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80166810 00163810  BF 21 00 14 */	stmw r25, 0x14(r1)
/* 80166814 00163814  4B FF FF A5 */	bl func_801667B8
/* 80166818 00163818  3C 80 81 00 */	lis r4, 0x8100
/* 8016681C 0016381C  38 A0 00 80 */	li r5, 0x80
/* 80166820 00163820  38 63 FF 80 */	addi r3, r3, -128
/* 80166824 00163824  4B E9 ED A9 */	bl memcpy
/* 80166828 00163828  3C 60 80 21 */	lis r3, lbl_80214DA8@ha
/* 8016682C 0016382C  38 83 4D A8 */	addi r4, r3, lbl_80214DA8@l
/* 80166830 00163830  3C 60 81 00 */	lis r3, 0x8100
/* 80166834 00163834  38 A0 00 80 */	li r5, 0x80
/* 80166838 00163838  4B E9 ED 95 */	bl memcpy
/* 8016683C 0016383C  3C 60 81 00 */	lis r3, 0x8100
/* 80166840 00163840  38 80 00 80 */	li r4, 0x80
/* 80166844 00163844  48 00 02 95 */	bl func_80166AD8
/* 80166848 00163848  3C 60 CC 00 */	lis r3, 0xCC005000@ha
/* 8016684C 0016384C  38 63 50 00 */	addi r3, r3, 0xCC005000@l
/* 80166850 00163850  38 00 00 43 */	li r0, 0x43
/* 80166854 00163854  B0 03 00 12 */	sth r0, 0x12(r3)
/* 80166858 00163858  3B E3 00 0A */	addi r31, r3, 0xa
/* 8016685C 0016385C  38 00 08 AC */	li r0, 0x8ac
/* 80166860 00163860  B0 03 00 0A */	sth r0, 0xa(r3)
/* 80166864 00163864  A0 03 00 0A */	lhz r0, 0xa(r3)
/* 80166868 00163868  60 00 00 01 */	ori r0, r0, 1
/* 8016686C 0016386C  B0 03 00 0A */	sth r0, 0xa(r3)
lbl_80166870:
/* 80166870 00163870  A0 1F 00 00 */	lhz r0, 0(r31)
/* 80166874 00163874  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 80166878 00163878  40 82 FF F8 */	bne lbl_80166870
/* 8016687C 0016387C  38 00 00 00 */	li r0, 0
/* 80166880 00163880  3C 80 CC 00 */	lis r4, 0xCC005000@ha
/* 80166884 00163884  B0 04 50 00 */	sth r0, 0xCC005000@l(r4)
lbl_80166888:
/* 80166888 00163888  3B C4 50 00 */	addi r30, r4, 0x5000
/* 8016688C 0016388C  A4 7E 00 04 */	lhzu r3, 4(r30)
/* 80166890 00163890  3B A4 50 00 */	addi r29, r4, 0x5000
/* 80166894 00163894  A4 1D 00 06 */	lhzu r0, 6(r29)
/* 80166898 00163898  50 60 80 1E */	rlwimi r0, r3, 0x10, 0, 0xf
/* 8016689C 0016389C  54 00 00 01 */	rlwinm. r0, r0, 0, 0, 0
/* 801668A0 001638A0  40 82 FF E8 */	bne lbl_80166888
/* 801668A4 001638A4  3C 60 CC 00 */	lis r3, 0xCC005000@ha
/* 801668A8 001638A8  3C 00 01 00 */	lis r0, 0x100
/* 801668AC 001638AC  3B 63 50 00 */	addi r27, r3, 0xCC005000@l
/* 801668B0 001638B0  94 1B 00 20 */	stwu r0, 0x20(r27)
/* 801668B4 001638B4  38 00 00 00 */	li r0, 0
/* 801668B8 001638B8  3B 43 50 00 */	addi r26, r3, 0x5000
/* 801668BC 001638BC  94 1A 00 24 */	stwu r0, 0x24(r26)
/* 801668C0 001638C0  38 00 00 20 */	li r0, 0x20
/* 801668C4 001638C4  3B 23 50 00 */	addi r25, r3, 0x5000
/* 801668C8 001638C8  94 19 00 28 */	stwu r0, 0x28(r25)
/* 801668CC 001638CC  A0 7F 00 00 */	lhz r3, 0(r31)
/* 801668D0 001638D0  48 00 00 08 */	b lbl_801668D8
lbl_801668D4:
/* 801668D4 001638D4  A0 7F 00 00 */	lhz r3, 0(r31)
lbl_801668D8:
/* 801668D8 001638D8  54 60 06 B5 */	rlwinm. r0, r3, 0, 0x1a, 0x1a
/* 801668DC 001638DC  41 82 FF F8 */	beq lbl_801668D4
/* 801668E0 001638E0  B0 7F 00 00 */	sth r3, 0(r31)
/* 801668E4 001638E4  48 00 67 95 */	bl func_8016D078
/* 801668E8 001638E8  7C 7C 1B 78 */	mr r28, r3
lbl_801668EC:
/* 801668EC 001638EC  48 00 67 8D */	bl func_8016D078
/* 801668F0 001638F0  7C 1C 18 50 */	subf r0, r28, r3
/* 801668F4 001638F4  2C 00 08 92 */	cmpwi r0, 0x892
/* 801668F8 001638F8  41 80 FF F4 */	blt lbl_801668EC
/* 801668FC 001638FC  3C 00 01 00 */	lis r0, 0x100
/* 80166900 00163900  90 1B 00 00 */	stw r0, 0(r27)
/* 80166904 00163904  38 60 00 00 */	li r3, 0
/* 80166908 00163908  38 00 00 20 */	li r0, 0x20
/* 8016690C 0016390C  90 7A 00 00 */	stw r3, 0(r26)
/* 80166910 00163910  90 19 00 00 */	stw r0, 0(r25)
/* 80166914 00163914  A0 7F 00 00 */	lhz r3, 0(r31)
/* 80166918 00163918  48 00 00 08 */	b lbl_80166920
lbl_8016691C:
/* 8016691C 0016391C  A0 7F 00 00 */	lhz r3, 0(r31)
lbl_80166920:
/* 80166920 00163920  54 60 06 B5 */	rlwinm. r0, r3, 0, 0x1a, 0x1a
/* 80166924 00163924  41 82 FF F8 */	beq lbl_8016691C
/* 80166928 00163928  B0 7F 00 00 */	sth r3, 0(r31)
/* 8016692C 0016392C  A0 1F 00 00 */	lhz r0, 0(r31)
/* 80166930 00163930  54 00 05 66 */	rlwinm r0, r0, 0, 0x15, 0x13
/* 80166934 00163934  B0 1F 00 00 */	sth r0, 0(r31)
lbl_80166938:
/* 80166938 00163938  A0 1F 00 00 */	lhz r0, 0(r31)
/* 8016693C 0016393C  54 00 05 6B */	rlwinm. r0, r0, 0, 0x15, 0x15
/* 80166940 00163940  40 82 FF F8 */	bne lbl_80166938
/* 80166944 00163944  A0 1F 00 00 */	lhz r0, 0(r31)
/* 80166948 00163948  54 00 07 B8 */	rlwinm r0, r0, 0, 0x1e, 0x1c
/* 8016694C 0016394C  B0 1F 00 00 */	sth r0, 0(r31)
/* 80166950 00163950  A0 1E 00 00 */	lhz r0, 0(r30)
/* 80166954 00163954  48 00 00 08 */	b lbl_8016695C
lbl_80166958:
/* 80166958 00163958  A0 1E 00 00 */	lhz r0, 0(r30)
lbl_8016695C:
/* 8016695C 0016395C  54 05 04 3E */	clrlwi r5, r0, 0x10
/* 80166960 00163960  54 00 04 21 */	rlwinm. r0, r0, 0, 0x10, 0x10
/* 80166964 00163964  41 82 FF F4 */	beq lbl_80166958
/* 80166968 00163968  A0 1F 00 00 */	lhz r0, 0(r31)
/* 8016696C 0016396C  A0 9D 00 00 */	lhz r4, 0(r29)
/* 80166970 00163970  60 00 00 04 */	ori r0, r0, 4
/* 80166974 00163974  B0 1F 00 00 */	sth r0, 0(r31)
/* 80166978 00163978  38 00 08 AC */	li r0, 0x8ac
/* 8016697C 0016397C  B0 1F 00 00 */	sth r0, 0(r31)
/* 80166980 00163980  A0 1F 00 00 */	lhz r0, 0(r31)
/* 80166984 00163984  60 00 00 01 */	ori r0, r0, 1
/* 80166988 00163988  B0 1F 00 00 */	sth r0, 0(r31)
lbl_8016698C:
/* 8016698C 0016398C  A0 1F 00 00 */	lhz r0, 0(r31)
/* 80166990 00163990  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 80166994 00163994  40 82 FF F8 */	bne lbl_8016698C
/* 80166998 00163998  4B FF FE 21 */	bl func_801667B8
/* 8016699C 0016399C  38 83 FF 80 */	addi r4, r3, -128
/* 801669A0 001639A0  3C 60 81 00 */	lis r3, 0x8100
/* 801669A4 001639A4  38 A0 00 80 */	li r5, 0x80
/* 801669A8 001639A8  4B E9 EC 25 */	bl memcpy
/* 801669AC 001639AC  BB 21 00 14 */	lmw r25, 0x14(r1)
/* 801669B0 001639B0  80 01 00 34 */	lwz r0, 0x34(r1)
/* 801669B4 001639B4  38 21 00 30 */	addi r1, r1, 0x30
/* 801669B8 001639B8  7C 08 03 A6 */	mtlr r0
/* 801669BC 001639BC  4E 80 00 20 */	blr 

.global func_801669C0
func_801669C0:
/* 801669C0 001639C0  7C 08 02 A6 */	mflr r0
/* 801669C4 001639C4  3C 60 CC 00 */	lis r3, 0xCC005000@ha
/* 801669C8 001639C8  90 01 00 04 */	stw r0, 4(r1)
/* 801669CC 001639CC  38 00 08 04 */	li r0, 0x804
/* 801669D0 001639D0  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801669D4 001639D4  93 E1 00 0C */	stw r31, 0xc(r1)
/* 801669D8 001639D8  3B E3 50 00 */	addi r31, r3, 0xCC005000@l
/* 801669DC 001639DC  38 63 50 00 */	addi r3, r3, 0x5000
/* 801669E0 001639E0  93 C1 00 08 */	stw r30, 8(r1)
/* 801669E4 001639E4  B0 1F 00 0A */	sth r0, 0xa(r31)
/* 801669E8 001639E8  A0 03 00 36 */	lhz r0, 0x36(r3)
/* 801669EC 001639EC  54 00 04 5E */	rlwinm r0, r0, 0, 0x11, 0xf
/* 801669F0 001639F0  B0 03 00 36 */	sth r0, 0x36(r3)
/* 801669F4 001639F4  A4 1F 00 0A */	lhzu r0, 0xa(r31)
/* 801669F8 001639F8  48 00 00 08 */	b lbl_80166A00
lbl_801669FC:
/* 801669FC 001639FC  A0 1F 00 00 */	lhz r0, 0(r31)
lbl_80166A00:
/* 80166A00 00163A00  54 00 05 6B */	rlwinm. r0, r0, 0, 0x15, 0x15
/* 80166A04 00163A04  40 82 FF F8 */	bne lbl_801669FC
/* 80166A08 00163A08  A0 1F 00 00 */	lhz r0, 0(r31)
/* 80166A0C 00163A0C  48 00 00 08 */	b lbl_80166A14
lbl_80166A10:
/* 80166A10 00163A10  A0 1F 00 00 */	lhz r0, 0(r31)
lbl_80166A14:
/* 80166A14 00163A14  54 00 05 AD */	rlwinm. r0, r0, 0, 0x16, 0x16
/* 80166A18 00163A18  40 82 FF F8 */	bne lbl_80166A10
/* 80166A1C 00163A1C  38 00 08 AC */	li r0, 0x8ac
/* 80166A20 00163A20  3C 60 CC 00 */	lis r3, 0xCC005000@ha
/* 80166A24 00163A24  B0 1F 00 00 */	sth r0, 0(r31)
/* 80166A28 00163A28  38 00 00 00 */	li r0, 0
/* 80166A2C 00163A2C  B0 03 50 00 */	sth r0, 0xCC005000@l(r3)
/* 80166A30 00163A30  38 83 50 00 */	addi r4, r3, 0x5000
lbl_80166A34:
/* 80166A34 00163A34  A0 64 00 04 */	lhz r3, 4(r4)
/* 80166A38 00163A38  A0 04 00 06 */	lhz r0, 6(r4)
/* 80166A3C 00163A3C  50 60 80 1E */	rlwimi r0, r3, 0x10, 0, 0xf
/* 80166A40 00163A40  54 00 00 01 */	rlwinm. r0, r0, 0, 0, 0
/* 80166A44 00163A44  40 82 FF F0 */	bne lbl_80166A34
/* 80166A48 00163A48  48 00 66 31 */	bl func_8016D078
/* 80166A4C 00163A4C  7C 7E 1B 78 */	mr r30, r3
lbl_80166A50:
/* 80166A50 00163A50  48 00 66 29 */	bl func_8016D078
/* 80166A54 00163A54  7C 1E 18 50 */	subf r0, r30, r3
/* 80166A58 00163A58  2C 00 00 2C */	cmpwi r0, 0x2c
/* 80166A5C 00163A5C  41 80 FF F4 */	blt lbl_80166A50
/* 80166A60 00163A60  A0 1F 00 00 */	lhz r0, 0(r31)
/* 80166A64 00163A64  60 00 00 01 */	ori r0, r0, 1
/* 80166A68 00163A68  B0 1F 00 00 */	sth r0, 0(r31)
/* 80166A6C 00163A6C  A0 1F 00 00 */	lhz r0, 0(r31)
/* 80166A70 00163A70  48 00 00 08 */	b lbl_80166A78
lbl_80166A74:
/* 80166A74 00163A74  A0 1F 00 00 */	lhz r0, 0(r31)
lbl_80166A78:
/* 80166A78 00163A78  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 80166A7C 00163A7C  40 82 FF F8 */	bne lbl_80166A74
/* 80166A80 00163A80  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80166A84 00163A84  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80166A88 00163A88  83 C1 00 08 */	lwz r30, 8(r1)
/* 80166A8C 00163A8C  38 21 00 10 */	addi r1, r1, 0x10
/* 80166A90 00163A90  7C 08 03 A6 */	mtlr r0
/* 80166A94 00163A94  4E 80 00 20 */	blr 
