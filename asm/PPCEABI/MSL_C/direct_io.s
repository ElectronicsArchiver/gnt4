.include "macros.inc"

.section .text  # 0x8018FE0C - 0x80190138

.global __fwrite
__fwrite:
/* 8018FE0C 0018CE0C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8018FE10 0018CE10  7C 08 02 A6 */	mflr r0
/* 8018FE14 0018CE14  90 01 00 34 */	stw r0, 0x34(r1)
/* 8018FE18 0018CE18  BF 21 00 14 */	stmw r25, 0x14(r1)
/* 8018FE1C 0018CE1C  7C 99 23 78 */	mr r25, r4
/* 8018FE20 0018CE20  7C DA 33 78 */	mr r26, r6
/* 8018FE24 0018CE24  7C 7B 1B 78 */	mr r27, r3
/* 8018FE28 0018CE28  7C BC 2B 78 */	mr r28, r5
/* 8018FE2C 0018CE2C  38 80 00 00 */	li r4, 0
/* 8018FE30 0018CE30  7F 43 D3 78 */	mr r3, r26
/* 8018FE34 0018CE34  48 00 30 D9 */	bl fwide
/* 8018FE38 0018CE38  2C 03 00 00 */	cmpwi r3, 0
/* 8018FE3C 0018CE3C  40 82 00 10 */	bne lbl_8018FE4C
/* 8018FE40 0018CE40  7F 43 D3 78 */	mr r3, r26
/* 8018FE44 0018CE44  38 80 FF FF */	li r4, -1
/* 8018FE48 0018CE48  48 00 30 C5 */	bl fwide
lbl_8018FE4C:
/* 8018FE4C 0018CE4C  7F B9 E1 D7 */	mullw. r29, r25, r28
/* 8018FE50 0018CE50  41 82 00 1C */	beq lbl_8018FE6C
/* 8018FE54 0018CE54  88 1A 00 0A */	lbz r0, 0xa(r26)
/* 8018FE58 0018CE58  28 00 00 00 */	cmplwi r0, 0
/* 8018FE5C 0018CE5C  40 82 00 10 */	bne lbl_8018FE6C
/* 8018FE60 0018CE60  A0 1A 00 04 */	lhz r0, 4(r26)
/* 8018FE64 0018CE64  54 00 D7 7F */	rlwinm. r0, r0, 0x1a, 0x1d, 0x1f
/* 8018FE68 0018CE68  40 82 00 0C */	bne lbl_8018FE74
lbl_8018FE6C:
/* 8018FE6C 0018CE6C  38 60 00 00 */	li r3, 0
/* 8018FE70 0018CE70  48 00 02 94 */	b lbl_80190104
lbl_8018FE74:
/* 8018FE74 0018CE74  28 00 00 02 */	cmplwi r0, 2
/* 8018FE78 0018CE78  40 82 00 08 */	bne lbl_8018FE80
/* 8018FE7C 0018CE7C  48 00 0D 15 */	bl __stdio_atexit
lbl_8018FE80:
/* 8018FE80 0018CE80  88 1A 00 05 */	lbz r0, 5(r26)
/* 8018FE84 0018CE84  3B E0 00 01 */	li r31, 1
/* 8018FE88 0018CE88  38 60 00 00 */	li r3, 0
/* 8018FE8C 0018CE8C  54 00 EF FF */	rlwinm. r0, r0, 0x1d, 0x1f, 0x1f
/* 8018FE90 0018CE90  41 82 00 14 */	beq lbl_8018FEA4
/* 8018FE94 0018CE94  88 1A 00 04 */	lbz r0, 4(r26)
/* 8018FE98 0018CE98  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 8018FE9C 0018CE9C  28 00 00 02 */	cmplwi r0, 2
/* 8018FEA0 0018CEA0  40 82 00 08 */	bne lbl_8018FEA8
lbl_8018FEA4:
/* 8018FEA4 0018CEA4  38 60 00 01 */	li r3, 1
lbl_8018FEA8:
/* 8018FEA8 0018CEA8  2C 03 00 00 */	cmpwi r3, 0
/* 8018FEAC 0018CEAC  40 82 00 18 */	bne lbl_8018FEC4
/* 8018FEB0 0018CEB0  88 1A 00 04 */	lbz r0, 4(r26)
/* 8018FEB4 0018CEB4  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 8018FEB8 0018CEB8  28 00 00 01 */	cmplwi r0, 1
/* 8018FEBC 0018CEBC  41 82 00 08 */	beq lbl_8018FEC4
/* 8018FEC0 0018CEC0  3B E0 00 00 */	li r31, 0
lbl_8018FEC4:
/* 8018FEC4 0018CEC4  88 1A 00 08 */	lbz r0, 8(r26)
/* 8018FEC8 0018CEC8  54 00 DF 7F */	rlwinm. r0, r0, 0x1b, 0x1d, 0x1f
/* 8018FECC 0018CECC  40 82 00 54 */	bne lbl_8018FF20
/* 8018FED0 0018CED0  88 7A 00 04 */	lbz r3, 4(r26)
/* 8018FED4 0018CED4  54 60 EF BD */	rlwinm. r0, r3, 0x1d, 0x1e, 0x1e
/* 8018FED8 0018CED8  54 63 EF 7E */	rlwinm r3, r3, 0x1d, 0x1d, 0x1f
/* 8018FEDC 0018CEDC  41 82 00 44 */	beq lbl_8018FF20
/* 8018FEE0 0018CEE0  54 60 07 7B */	rlwinm. r0, r3, 0, 0x1d, 0x1d
/* 8018FEE4 0018CEE4  41 82 00 24 */	beq lbl_8018FF08
/* 8018FEE8 0018CEE8  7F 43 D3 78 */	mr r3, r26
/* 8018FEEC 0018CEEC  38 80 00 00 */	li r4, 0
/* 8018FEF0 0018CEF0  38 A0 00 02 */	li r5, 2
/* 8018FEF4 0018CEF4  48 00 04 3D */	bl fseek
/* 8018FEF8 0018CEF8  2C 03 00 00 */	cmpwi r3, 0
/* 8018FEFC 0018CEFC  41 82 00 0C */	beq lbl_8018FF08
/* 8018FF00 0018CF00  38 60 00 00 */	li r3, 0
/* 8018FF04 0018CF04  48 00 02 00 */	b lbl_80190104
lbl_8018FF08:
/* 8018FF08 0018CF08  88 1A 00 08 */	lbz r0, 8(r26)
/* 8018FF0C 0018CF0C  38 60 00 01 */	li r3, 1
/* 8018FF10 0018CF10  50 60 2E 34 */	rlwimi r0, r3, 5, 0x18, 0x1a
/* 8018FF14 0018CF14  7F 43 D3 78 */	mr r3, r26
/* 8018FF18 0018CF18  98 1A 00 08 */	stb r0, 8(r26)
/* 8018FF1C 0018CF1C  4B FF FE 99 */	bl __prep_buffer
lbl_8018FF20:
/* 8018FF20 0018CF20  88 1A 00 08 */	lbz r0, 8(r26)
/* 8018FF24 0018CF24  54 00 DF 7E */	rlwinm r0, r0, 0x1b, 0x1d, 0x1f
/* 8018FF28 0018CF28  28 00 00 01 */	cmplwi r0, 1
/* 8018FF2C 0018CF2C  41 82 00 1C */	beq lbl_8018FF48
/* 8018FF30 0018CF30  38 60 00 01 */	li r3, 1
/* 8018FF34 0018CF34  38 00 00 00 */	li r0, 0
/* 8018FF38 0018CF38  98 7A 00 0A */	stb r3, 0xa(r26)
/* 8018FF3C 0018CF3C  38 60 00 00 */	li r3, 0
/* 8018FF40 0018CF40  90 1A 00 28 */	stw r0, 0x28(r26)
/* 8018FF44 0018CF44  48 00 01 C0 */	b lbl_80190104
lbl_8018FF48:
/* 8018FF48 0018CF48  28 1D 00 00 */	cmplwi r29, 0
/* 8018FF4C 0018CF4C  7F 7E DB 78 */	mr r30, r27
/* 8018FF50 0018CF50  3B 80 00 00 */	li r28, 0
/* 8018FF54 0018CF54  41 82 01 20 */	beq lbl_80190074
/* 8018FF58 0018CF58  80 9A 00 24 */	lwz r4, 0x24(r26)
/* 8018FF5C 0018CF5C  80 7A 00 1C */	lwz r3, 0x1c(r26)
/* 8018FF60 0018CF60  7C 04 18 40 */	cmplw r4, r3
/* 8018FF64 0018CF64  40 82 00 0C */	bne lbl_8018FF70
/* 8018FF68 0018CF68  2C 1F 00 00 */	cmpwi r31, 0
/* 8018FF6C 0018CF6C  41 82 01 08 */	beq lbl_80190074
lbl_8018FF70:
/* 8018FF70 0018CF70  80 1A 00 20 */	lwz r0, 0x20(r26)
/* 8018FF74 0018CF74  7C 63 20 50 */	subf r3, r3, r4
/* 8018FF78 0018CF78  7C 03 00 50 */	subf r0, r3, r0
/* 8018FF7C 0018CF7C  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_8018FF80:
/* 8018FF80 0018CF80  80 1A 00 28 */	lwz r0, 0x28(r26)
/* 8018FF84 0018CF84  3B 60 00 00 */	li r27, 0
/* 8018FF88 0018CF88  7C 00 E8 40 */	cmplw r0, r29
/* 8018FF8C 0018CF8C  90 01 00 08 */	stw r0, 8(r1)
/* 8018FF90 0018CF90  40 81 00 08 */	ble lbl_8018FF98
/* 8018FF94 0018CF94  93 A1 00 08 */	stw r29, 8(r1)
lbl_8018FF98:
/* 8018FF98 0018CF98  88 1A 00 04 */	lbz r0, 4(r26)
/* 8018FF9C 0018CF9C  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 8018FFA0 0018CFA0  28 00 00 01 */	cmplwi r0, 1
/* 8018FFA4 0018CFA4  40 82 00 30 */	bne lbl_8018FFD4
/* 8018FFA8 0018CFA8  80 A1 00 08 */	lwz r5, 8(r1)
/* 8018FFAC 0018CFAC  28 05 00 00 */	cmplwi r5, 0
/* 8018FFB0 0018CFB0  41 82 00 24 */	beq lbl_8018FFD4
/* 8018FFB4 0018CFB4  7F C3 F3 78 */	mr r3, r30
/* 8018FFB8 0018CFB8  38 80 00 0A */	li r4, 0xa
/* 8018FFBC 0018CFBC  48 00 07 D1 */	bl __memrchr
/* 8018FFC0 0018CFC0  7C 7B 1B 79 */	or. r27, r3, r3
/* 8018FFC4 0018CFC4  41 82 00 10 */	beq lbl_8018FFD4
/* 8018FFC8 0018CFC8  38 1B 00 01 */	addi r0, r27, 1
/* 8018FFCC 0018CFCC  7C 1E 00 50 */	subf r0, r30, r0
/* 8018FFD0 0018CFD0  90 01 00 08 */	stw r0, 8(r1)
lbl_8018FFD4:
/* 8018FFD4 0018CFD4  80 A1 00 08 */	lwz r5, 8(r1)
/* 8018FFD8 0018CFD8  28 05 00 00 */	cmplwi r5, 0
/* 8018FFDC 0018CFDC  41 82 00 3C */	beq lbl_80190018
/* 8018FFE0 0018CFE0  80 7A 00 24 */	lwz r3, 0x24(r26)
/* 8018FFE4 0018CFE4  7F C4 F3 78 */	mr r4, r30
/* 8018FFE8 0018CFE8  4B E7 55 E5 */	bl memcpy
/* 8018FFEC 0018CFEC  80 61 00 08 */	lwz r3, 8(r1)
/* 8018FFF0 0018CFF0  80 1A 00 24 */	lwz r0, 0x24(r26)
/* 8018FFF4 0018CFF4  7F DE 1A 14 */	add r30, r30, r3
/* 8018FFF8 0018CFF8  7F 9C 1A 14 */	add r28, r28, r3
/* 8018FFFC 0018CFFC  7C 00 1A 14 */	add r0, r0, r3
/* 80190000 0018D000  7F A3 E8 50 */	subf r29, r3, r29
/* 80190004 0018D004  90 1A 00 24 */	stw r0, 0x24(r26)
/* 80190008 0018D008  80 61 00 08 */	lwz r3, 8(r1)
/* 8019000C 0018D00C  80 1A 00 28 */	lwz r0, 0x28(r26)
/* 80190010 0018D010  7C 03 00 50 */	subf r0, r3, r0
/* 80190014 0018D014  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_80190018:
/* 80190018 0018D018  80 1A 00 28 */	lwz r0, 0x28(r26)
/* 8019001C 0018D01C  28 00 00 00 */	cmplwi r0, 0
/* 80190020 0018D020  41 82 00 18 */	beq lbl_80190038
/* 80190024 0018D024  28 1B 00 00 */	cmplwi r27, 0
/* 80190028 0018D028  40 82 00 10 */	bne lbl_80190038
/* 8019002C 0018D02C  88 1A 00 04 */	lbz r0, 4(r26)
/* 80190030 0018D030  54 00 FF BF */	rlwinm. r0, r0, 0x1f, 0x1e, 0x1f
/* 80190034 0018D034  40 82 00 30 */	bne lbl_80190064
lbl_80190038:
/* 80190038 0018D038  7F 43 D3 78 */	mr r3, r26
/* 8019003C 0018D03C  38 80 00 00 */	li r4, 0
/* 80190040 0018D040  4B FF FC B1 */	bl __flush_buffer
/* 80190044 0018D044  2C 03 00 00 */	cmpwi r3, 0
/* 80190048 0018D048  41 82 00 1C */	beq lbl_80190064
/* 8019004C 0018D04C  38 60 00 01 */	li r3, 1
/* 80190050 0018D050  38 00 00 00 */	li r0, 0
/* 80190054 0018D054  98 7A 00 0A */	stb r3, 0xa(r26)
/* 80190058 0018D058  3B A0 00 00 */	li r29, 0
/* 8019005C 0018D05C  90 1A 00 28 */	stw r0, 0x28(r26)
/* 80190060 0018D060  48 00 00 14 */	b lbl_80190074
lbl_80190064:
/* 80190064 0018D064  28 1D 00 00 */	cmplwi r29, 0
/* 80190068 0018D068  41 82 00 0C */	beq lbl_80190074
/* 8019006C 0018D06C  2C 1F 00 00 */	cmpwi r31, 0
/* 80190070 0018D070  40 82 FF 10 */	bne lbl_8018FF80
lbl_80190074:
/* 80190074 0018D074  28 1D 00 00 */	cmplwi r29, 0
/* 80190078 0018D078  41 82 00 68 */	beq lbl_801900E0
/* 8019007C 0018D07C  2C 1F 00 00 */	cmpwi r31, 0
/* 80190080 0018D080  40 82 00 60 */	bne lbl_801900E0
/* 80190084 0018D084  83 7A 00 1C */	lwz r27, 0x1c(r26)
/* 80190088 0018D088  7C 1E EA 14 */	add r0, r30, r29
/* 8019008C 0018D08C  83 FA 00 20 */	lwz r31, 0x20(r26)
/* 80190090 0018D090  7F 43 D3 78 */	mr r3, r26
/* 80190094 0018D094  38 81 00 08 */	addi r4, r1, 8
/* 80190098 0018D098  93 DA 00 1C */	stw r30, 0x1c(r26)
/* 8019009C 0018D09C  93 BA 00 20 */	stw r29, 0x20(r26)
/* 801900A0 0018D0A0  90 1A 00 24 */	stw r0, 0x24(r26)
/* 801900A4 0018D0A4  4B FF FC 4D */	bl __flush_buffer
/* 801900A8 0018D0A8  2C 03 00 00 */	cmpwi r3, 0
/* 801900AC 0018D0AC  41 82 00 14 */	beq lbl_801900C0
/* 801900B0 0018D0B0  38 60 00 01 */	li r3, 1
/* 801900B4 0018D0B4  38 00 00 00 */	li r0, 0
/* 801900B8 0018D0B8  98 7A 00 0A */	stb r3, 0xa(r26)
/* 801900BC 0018D0BC  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_801900C0:
/* 801900C0 0018D0C0  80 01 00 08 */	lwz r0, 8(r1)
/* 801900C4 0018D0C4  7F 43 D3 78 */	mr r3, r26
/* 801900C8 0018D0C8  93 7A 00 1C */	stw r27, 0x1c(r26)
/* 801900CC 0018D0CC  7F 9C 02 14 */	add r28, r28, r0
/* 801900D0 0018D0D0  93 FA 00 20 */	stw r31, 0x20(r26)
/* 801900D4 0018D0D4  4B FF FC E1 */	bl __prep_buffer
/* 801900D8 0018D0D8  38 00 00 00 */	li r0, 0
/* 801900DC 0018D0DC  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_801900E0:
/* 801900E0 0018D0E0  88 1A 00 04 */	lbz r0, 4(r26)
/* 801900E4 0018D0E4  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 801900E8 0018D0E8  28 00 00 02 */	cmplwi r0, 2
/* 801900EC 0018D0EC  41 82 00 0C */	beq lbl_801900F8
/* 801900F0 0018D0F0  38 00 00 00 */	li r0, 0
/* 801900F4 0018D0F4  90 1A 00 28 */	stw r0, 0x28(r26)
lbl_801900F8:
/* 801900F8 0018D0F8  38 19 FF FF */	addi r0, r25, -1
/* 801900FC 0018D0FC  7C 1C 02 14 */	add r0, r28, r0
/* 80190100 0018D100  7C 60 CB 96 */	divwu r3, r0, r25
lbl_80190104:
/* 80190104 0018D104  BB 21 00 14 */	lmw r25, 0x14(r1)
/* 80190108 0018D108  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8019010C 0018D10C  7C 08 03 A6 */	mtlr r0
/* 80190110 0018D110  38 21 00 30 */	addi r1, r1, 0x30
/* 80190114 0018D114  4E 80 00 20 */	blr 

.global fwrite
fwrite:
/* 80190118 0018D118  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8019011C 0018D11C  7C 08 02 A6 */	mflr r0
/* 80190120 0018D120  90 01 00 14 */	stw r0, 0x14(r1)
/* 80190124 0018D124  4B FF FC E9 */	bl __fwrite
/* 80190128 0018D128  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8019012C 0018D12C  7C 08 03 A6 */	mtlr r0
/* 80190130 0018D130  38 21 00 10 */	addi r1, r1, 0x10
/* 80190134 0018D134  4E 80 00 20 */	blr 
